<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My LeetCode Hards</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .code-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
      background-color: #1e293b;
      border-radius: 0.375rem;
    }
    
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.75);
      z-index: 50;
      overflow-y: auto;
      padding: 2rem 1rem;
    }
    
    .modal-content {
      background-color: #1f2937;
      margin: auto;
      border-radius: 0.5rem;
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
      max-width: 900px;
      position: relative;
    }
    
    body.modal-open {
      overflow: hidden;
    }
    
    .solution-image-container {
      position: relative;
      width: 100%;
      max-height: 70vh;
      overflow: auto;
      background-color: #0f172a;
      border-radius: 0.375rem 0.375rem 0 0;
    }
    
    .solution-image {
      display: block;
      width: 100%;
      transform-origin: 0 0;
      transition: transform 0.2s ease;
    }
    
    .zoomed {
      cursor: grab !important;
    }
    
    /* For when actively dragging */
    .grabbing {
      cursor: grabbing !important;
    }
    
    /* Improved scrollbar styling for better visibility */
    .solution-image-container::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }
    
    .solution-image-container::-webkit-scrollbar-track {
      background: rgba(15, 23, 42, 0.8);
    }
    
    .solution-image-container::-webkit-scrollbar-thumb {
      background-color: rgba(100, 116, 139, 0.5);
      border-radius: 4px;
    }
    
    .solution-image-container::-webkit-scrollbar-thumb:hover {
      background-color: rgba(100, 116, 139, 0.8);
    }
    
    .close-button {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background-color: rgba(31, 41, 55, 0.8);
      border-radius: 9999px;
      padding: 0.5rem;
      cursor: pointer;
      transition: all 0.2s;
      z-index: 60;
    }
    
    .close-button:hover {
      background-color: rgba(55, 65, 81, 0.9);
    }
    
    /* Fixed position for zoom controls so they don't scroll with content */
    .zoom-controls {
      position: fixed;
      bottom: 1.5rem;
      right: 2rem;
      display: flex;
      gap: 0.5rem;
      z-index: 60;
      background-color: rgba(15, 23, 42, 0.7);
      border-radius: 0.5rem;
      padding: 0.5rem;
    }
    
    .zoom-button {
      background-color: rgba(31, 41, 55, 0.8);
      border-radius: 9999px;
      padding: 0.5rem;
      color: #e5e7eb;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
      width: 2rem;
      height: 2rem;
    }
    
    .zoom-button:hover {
      background-color: rgba(55, 65, 81, 0.9);
    }
    
    /* Fixed position for zoom level display */
    .zoom-level {
      position: fixed;
      bottom: 1.5rem;
      left: 2rem;
      background-color: rgba(31, 41, 55, 0.8);
      border-radius: 0.25rem;
      padding: 0.25rem 0.5rem;
      color: #e5e7eb;
      font-size: 0.75rem;
      z-index: 60;
    }
  </style>
</head>
<body class="bg-gray-950 text-gray-100">
  <div id="app">
    <header class="bg-gray-800 shadow-sm sticky top-0 z-10">
      <div class="container mx-auto p-4 flex justify-between items-center">
        <div class="flex items-center">
          <svg class="h-6 w-6 text-blue-400 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M16 18l6-6-6-6"></path>
            <path d="M8 6l-6 6 6 6"></path>
            <path d="M12 2l4 20"></path>
          </svg>
          <h1 class="text-xl font-bold text-gray-200 flex items-center">
            My LeetCode 
            <span class="ml-2 bg-gray-800 text-red-400 text-sm font-medium px-2.5 py-0.5 rounded-full border border-gray-700">
              Hards
            </span>
          </h1>
        </div>
        <nav class="flex items-center space-x-4">
          <button class="text-sm font-medium text-gray-400 hover:text-blue-400">About</button>
          <button class="text-sm font-medium text-gray-400 hover:text-blue-400">Contact</button>
          <a href="https://github.com" target="_blank" class="text-gray-400 hover:text-gray-200">
            <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
            </svg>
          </a>
        </nav>
      </div>
    </header>
    
    <main class="py-8">
      <div class="container mx-auto p-6">
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="problem-container">
          <!-- Problems will be added here by JavaScript -->
        </div>
      </div>
    </main>
    
    <!-- Solution Modal -->
    <div id="solution-modal" class="modal">
      <div class="modal-content">
        <button class="close-button" onclick="closeModal()">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
        <div id="modal-header" class="p-6 border-b border-gray-700 bg-gray-800 flex justify-between items-center">
          <h2 class="text-xl font-bold text-gray-200">Problem Solution</h2>
          <span class="bg-gray-900 text-red-400 text-xs font-medium px-2.5 py-0.5 rounded-full border border-gray-700 mr-8">
            Hard
          </span>
        </div>
        <div class="p-6">
          <div class="solution-image-container mb-6">
            <img id="solution-image" class="solution-image" src="" alt="Solution code">
            <div class="zoom-controls">
              <button class="zoom-button" id="zoom-in">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <circle cx="11" cy="11" r="8"></circle>
                  <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                  <line x1="11" y1="8" x2="11" y2="14"></line>
                  <line x1="8" y1="11" x2="14" y2="11"></line>
                </svg>
              </button>
              <button class="zoom-button" id="zoom-out">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <circle cx="11" cy="11" r="8"></circle>
                  <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                  <line x1="8" y1="11" x2="14" y2="11"></line>
                </svg>
              </button>
              <button class="zoom-button" id="reset-zoom">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M3 12a9 9 0 1 0 18 0 9 9 0 0 0-18 0z"></path>
                  <path d="M3 12h18"></path>
                </svg>
              </button>
            </div>
            <div class="zoom-level" id="zoom-level">100%</div>
          </div>
          <div class="border-t border-gray-700 pt-4 mt-2">
            <h3 class="text-lg font-semibold mb-4">Approach</h3>
            <p id="solution-blog" class="text-gray-300"></p>
          </div>
        </div>
      </div>
    </div>
    
    <footer class="bg-gray-800 border-t border-gray-700 py-6">
      <div class="container mx-auto px-4">
        <div class="flex flex-col md:flex-row justify-between items-center">
          <p class="text-sm text-gray-400">
            © 2025 My LeetCode Hards. All rights reserved.
          </p>
          <div class="flex space-x-4 mt-4 md:mt-0">
            <a href="#" class="text-gray-400 hover:text-gray-300">
              <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
              </svg>
            </a>
            <a href="#" class="text-gray-400 hover:text-gray-300">
              <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                <polyline points="15 3 21 3 21 9"></polyline>
                <line x1="10" y1="14" x2="21" y2="3"></line>
              </svg>
            </a>
          </div>
        </div>
      </div>
    </footer>
  </div>

  <script>
    // LeetCode problems data with image paths
    const problems = [
      {
        id: 1,
        number: "352",
        title: "Data Stream as Disjoint Intervals",
        imagePath: "images/352_solution.png", // Replace with your actual image paths
        blog: "This solution uses a disjoint-set (union-find) approach to efficiently track intervals as they form. Each value maps to its interval endpoint, allowing constant-time merging of adjacent intervals. The time complexity is dominated by the sorting operation in getIntervals(), making it O(n log n) where n is the number of unique values added."
      },
      {
        id: 2,
        number: "980",
        title: "Unique Paths III",
        imagePath: "images/980_solution.png",
        blog: "This solution uses backtracking to find all possible paths that visit every empty cell exactly once. The key insight is tracking both visited cells with a boolean matrix and remaining steps to ensure we've visited all empty cells. Time complexity is O(3^(N*M)) as we have at most 3 directions to explore at each step (can't go back to the previous cell)."
      },
      {
        id: 3,
        number: "1028",
        title: "Recover a Tree From Preorder Traversal",
        imagePath: "images/1028_solution.png",
        blog: "This problem requires parsing a string representation of a binary tree's preorder traversal with depth information. The key insight is using a map to track the last node seen at each depth level, which serves as the parent for the next node at a deeper level. This single-pass approach achieves O(n) time complexity, where n is the length of the input string."
      },
      {
        id: 4,
        number: "135",
        title: "Candy",
        imagePath: "images/135_solution.png",
        blog: "This solution uses a two-pass approach to ensure that each child with a higher rating gets more candies than their neighbors. The first pass assigns candies based on left-to-right comparisons, and the second pass adjusts for right-to-left comparisons, taking the maximum value needed to satisfy both constraints. The algorithm achieves an optimal O(n) time complexity."
      },
      {
        id: 5,
        number: "149",
        title: "Max Points on a Line",
        imagePath: "images/149_solution.png",
        blog: "Finding the maximum number of points on a line requires checking all possible lines. This solution first handles vertical lines separately, then computes slopes between each pair of points to count collinear points. By storing slope frequencies in a hash map, we achieve O(n²) time complexity, which is optimal for this problem as we must check all pairs of points."
      },
      {
        id: 6,
        number: "68",
        title: "Text Justification",
        imagePath: "images/68_solution.png",
        blog: "Text justification requires careful management of spaces between words. The approach involves greedy line filling, calculating even distribution of spaces, with special handling for the last line (left-justified) and lines with a single word. The algorithm has O(n) time complexity where n is the total number of characters across all words."
      },
      {
        id: 7,
        number: "10",
        title: "Regular Expression Matching",
        imagePath: "images/10_solution.png",
        blog: "This dynamic programming solution uses a 2D boolean array where dp[i][j] represents whether the first i characters of the input string match the first j characters of the pattern. We handle special cases for the wildcard character '*' which can match zero or more of the preceding element. The time complexity is O(m*n) where m and n are the lengths of the input string and pattern respectively."
      },
      {
        id: 8,
        number: "23",
        title: "Merge K Sorted Lists",
        imagePath: "images/23_solution.png",
        blog: "This solution iteratively merges the k sorted linked lists by always selecting the smallest value from among the heads of all remaining lists. We keep track of which nodes have been processed and systematically build a new merged linked list. The time complexity is O(N*k) where N is the total number of nodes across all lists and k is the number of lists."
      },
      {
        id: 9,
        number: "76",
        title: "Minimum Window Substring",
        imagePath: "images/76_solution.png",
        blog: "This solution uses the sliding window technique with two pointers. We maintain frequency maps for both the target string and our current window, expanding the window until all required characters are included, then contracting it to find the minimum valid window. This achieves O(n) time complexity where n is the length of the input string."
      },
      {
        id: 10,
        number: "42",
        title: "Trapping Rain Water",
        imagePath: "images/42_solution.png",
        blog: "This solution uses two passes with stack-based approach to calculate trapped water. First, we calculate potential trapping from right to left, then we calculate actual trapped water by comparing with the left-to-right potential. The key insight is that water can only be trapped if there are higher bars on both sides. The algorithm achieves O(n) time complexity."
      },
      {
        id: 11,
        number: "1402",
        title: "Reducing Dishes",
        imagePath: "images/1402_solution.png",
        blog: "This solution sorts the satisfaction values and strategically determines which negative values to include in the cooking sequence to maximize the total satisfaction. For each possible inclusion of negative values, we calculate the resulting satisfaction sum and track the maximum. This greedy approach has a time complexity of O(n²) in the worst case."
      },
      {
        id: 12,
        number: "25",
        title: "Reverse Nodes in k-Group",
        imagePath: "images/25_solution.png",
        blog: "This solution first converts the linked list to an array, then performs the k-group reversal operations on the array representation before reconstructing the linked list. This approach simplifies the complex pointer manipulation that would otherwise be required. The time complexity is O(n) where n is the number of nodes in the linked list."
      }
    ];

    // Modal and zoom functionality
    const modal = document.getElementById('solution-modal');
    const modalTitle = document.getElementById('modal-header').querySelector('h2');
    const solutionImage = document.getElementById('solution-image');
    const solutionBlog = document.getElementById('solution-blog');
    const zoomInBtn = document.getElementById('zoom-in');
    const zoomOutBtn = document.getElementById('zoom-out');
    const resetZoomBtn = document.getElementById('reset-zoom');
    const imageContainer = document.querySelector('.solution-image-container');

    let currentZoom = 1;
    const zoomIncrement = 0.25;
    const maxZoom = 3;
    const minZoom = 0.5;

    // Function to handle zoom operations
    function updateZoom(newZoom) {
      // Clamp zoom level between min and max
      currentZoom = Math.max(minZoom, Math.min(maxZoom, newZoom));
      
      // Update zoom level display
      zoomLevelDisplay.textContent = `${Math.round(currentZoom * 100)}%`;
      
      // Get dimensions before applying zoom
      const containerRect = imageContainer.getBoundingClientRect();
      const imgRect = solutionImage.getBoundingClientRect();
      
      // Calculate scroll positions relative to the center of the viewport
      const centerX = (imageContainer.scrollLeft + containerRect.width / 2) / currentZoom;
      const centerY = (imageContainer.scrollTop + containerRect.height / 2) / currentZoom;
      
      // Apply zoom transform
      solutionImage.style.transform = `scale(${currentZoom})`;
      solutionImage.style.transformOrigin = '0 0';
      
      // Set appropriate cursor based on zoom level
      if (currentZoom > 1) {
        solutionImage.classList.add('zoomed');
        solutionImage.style.cursor = 'grab';
      } else {
        solutionImage.classList.remove('zoomed');
        solutionImage.style.cursor = 'default';
      }
      
      // Adjust scroll position to keep the center point after zoom
      // Need to wait for the browser to update the layout after changing the transform
      setTimeout(() => {
        imageContainer.scrollLeft = centerX * currentZoom - containerRect.width / 2;
        imageContainer.scrollTop = centerY * currentZoom - containerRect.height / 2;
      }, 0);
    }

    // Zoom in button
    zoomInBtn.addEventListener('click', (e) => {
      e.stopPropagation();
      updateZoom(currentZoom + zoomIncrement);
    });

    // Zoom out button
    zoomOutBtn.addEventListener('click', (e) => {
      e.stopPropagation();
      updateZoom(currentZoom - zoomIncrement);
    });

    // Reset zoom button
    resetZoomBtn.addEventListener('click', (e) => {
      e.stopPropagation();
      updateZoom(1);
    });

    // Removed click zoom functionality
    // Only keep dragging functionality when zoomed in
    let isDragging = false;
    let startX, startY, scrollLeft, scrollTop;

    solutionImage.addEventListener('mousedown', (e) => {
      if (currentZoom > 1) {
        isDragging = true;
        startX = e.clientX;
        startY = e.clientY;
        scrollLeft = imageContainer.scrollLeft;
        scrollTop = imageContainer.scrollTop;
        solutionImage.style.cursor = 'grabbing';
        e.preventDefault();
      }
    });

    window.addEventListener('mousemove', (e) => {
      if (!isDragging) return;
      
      e.preventDefault();
      const x = e.clientX - startX;
      const y = e.clientY - startY;
      
      imageContainer.scrollLeft = scrollLeft - x;
      imageContainer.scrollTop = scrollTop - y;
    });

    window.addEventListener('mouseup', () => {
      if (isDragging) {
        isDragging = false;
        solutionImage.style.cursor = currentZoom > 1 ? 'grab' : 'default';
      }
    });

    // Make sure scroll doesn't break if mouse leaves the window
    window.addEventListener('mouseleave', () => {
      if (isDragging) {
        isDragging = false;
        solutionImage.style.cursor = currentZoom > 1 ? 'grab' : 'default';
      }
    });

    // Mouse wheel zoom with Ctrl key
    imageContainer.addEventListener('wheel', (e) => {
      if (e.ctrlKey) {
        e.preventDefault();
        const zoomChange = e.deltaY > 0 ? -zoomIncrement : zoomIncrement;
        
        // Get mouse position relative to container
        const rect = imageContainer.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;
        
        // Set transform origin to mouse position
        solutionImage.style.transformOrigin = `${x}px ${y}px`;
        
        updateZoom(currentZoom + zoomChange);
      }
    }, { passive: false });

    // Keyboard shortcuts for zoom
    document.addEventListener('keydown', function(e) {
      if (modal.style.display === 'block') {
        if (e.key === '+' || e.key === '=') {
          e.preventDefault();
          updateZoom(currentZoom + zoomIncrement);
        } else if (e.key === '-' || e.key === '_') {
          e.preventDefault();
          updateZoom(currentZoom - zoomIncrement);
        } else if (e.key === '0') {
          e.preventDefault();
          updateZoom(1);
        }
      }
    });

    function openModal(problem) {
      // Reset zoom when opening modal
      currentZoom = 1;
      updateZoom(1);
      
      // Set modal content
      modalTitle.textContent = `${problem.number}. ${problem.title} - Solution`;
      solutionImage.src = problem.imagePath;
      solutionImage.alt = `Complete solution for ${problem.title}`;
      solutionBlog.textContent = problem.blog;
      
      // Show modal
      modal.style.display = 'block';
      document.body.classList.add('modal-open');
      
      // Handle escape key
      document.addEventListener('keydown', handleEscKey);
    }

    function closeModal() {
      modal.style.display = 'none';
      document.body.classList.remove('modal-open');
      document.removeEventListener('keydown', handleEscKey);
    }

    function handleEscKey(e) {
      if (e.key === 'Escape') {
        closeModal();
      }
    }

    // Close modal when clicking outside
    window.addEventListener('click', function(event) {
      if (event.target === modal) {
        closeModal();
      }
    });

    // Render problems with images
    function renderProblems() {
      const container = document.getElementById('problem-container');
      
      problems.forEach(problem => {
        // Create card element
        const card = document.createElement('div');
        card.className = 'bg-gray-800 rounded-lg shadow-md overflow-hidden transition-transform duration-300 hover:shadow-lg hover:scale-105 cursor-pointer border border-gray-700';
        
        // Card header
        const header = document.createElement('div');
        header.className = 'p-4 border-b border-gray-700 bg-gray-900 flex justify-between items-center';
        header.innerHTML = `
          <h3 class="text-lg font-semibold text-gray-200">
            ${problem.number}. ${problem.title}
          </h3>
          <span class="bg-gray-800 text-red-400 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full border border-gray-700">
            Hard
          </span>
        `;
        
        // Card body
        const body = document.createElement('div');
        body.className = 'p-4';
        
        // Code image
        const codeBlock = document.createElement('div');
        codeBlock.className = 'overflow-hidden h-64 bg-gray-900 rounded';
        
        const codeImage = document.createElement('img');
        codeImage.src = problem.imagePath;
        codeImage.alt = `Code for ${problem.title}`;
        codeImage.className = 'code-image';
        
        codeBlock.appendChild(codeImage);
        
        // Blog preview
        const blogPreview = document.createElement('p');
        blogPreview.className = 'mt-4 text-sm text-gray-400';
        blogPreview.textContent = `${problem.blog.substring(0, 150)}...`;
        
        body.appendChild(codeBlock);
        body.appendChild(blogPreview);
        
        // Card footer
        const footer = document.createElement('div');
        footer.className = 'p-4 bg-gray-900 flex justify-end';
        
        const viewButton = document.createElement('button');
        viewButton.className = 'text-blue-400 flex items-center text-sm font-medium';
        viewButton.innerHTML = `
          View solution 
          <svg class="ml-1 h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M5 12h14"></path>
            <path d="M12 5l7 7-7 7"></path>
          </svg>
        `;
        
        // Add click event to view button
        viewButton.addEventListener('click', (e) => {
          e.stopPropagation();
          openModal(problem);
        });
        
        footer.appendChild(viewButton);
        
        // Append all sections to card
        card.appendChild(header);
        card.appendChild(body);
        card.appendChild(footer);
        
// Add click event to the entire card to open modal
        card.addEventListener('click', () => {
          openModal(problem);
        });
        
        // Add card to container
        container.appendChild(card);
      });
    }
    
    // Initialize the page
    renderProblems();
  </script>
</body>
</html>
